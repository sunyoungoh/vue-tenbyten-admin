(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7194e8fc"],{6895:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("section",[t.loading?e("LoadingSpinner"):[e("TitleMonth",{on:{"fetch-data":t.fetchData}}),e("div",{staticClass:"sales-list-container"},[e("div",[e("h1",{class:t.title.css},[t._v(t._s(t.title.text))])]),e("div",{staticClass:"top3-sales"},[e("div",{staticClass:"sales-item top1"},[e("div",{staticClass:"pop-num"},[t._v("1")]),t._l(t.topOne.items,(function(s,i){return e("p",{key:i,staticClass:"item-name"},[t._v(" "+t._s(t._f("itemName")(t.topOne.items[i]))+" ")])})),e("div",{staticClass:"sales-count"},[t._v(t._s(t.topOne.count)+"개")])],2),e("div",{staticClass:"sales-item top2"},[e("div",{staticClass:"pop-num"},[t._v("2")]),t._l(t.topTwo.items,(function(s,i){return e("p",{key:i,staticClass:"item-name"},[t._v(" "+t._s(t._f("itemName")(t.topTwo.items[i]))+" ")])})),e("div",{staticClass:"sales-count"},[t._v(t._s(t.topTwo.count)+"개")])],2),e("div",{staticClass:"sales-item top3"},[e("div",{staticClass:"pop-num"},[t._v("3")]),t._l(t.topThree.items,(function(s,i){return e("p",{key:i,staticClass:"item-name"},[t._v(" "+t._s(t._f("itemName")(t.topThree.items[i]))+" "),t.topThree.items.length>2?e("span",[t._v("+1")]):t._e()])})),e("div",{staticClass:"sales-count"},[t._v(t._s(t.topThree.count)+"개")])],2)])])]],2)},n=[],r=s("e07b"),a=s("d76c"),o=s("f8b7"),h={components:{TitleMonth:r["a"],LoadingSpinner:a["a"]},async mounted(){const{data:t}=await Object(o["c"])();this.loading=!1,this.originOrderList=t,this.fetchData(),this.fetchTopSales()},data(){return{loading:!0,originOrderList:[],orderList:[],title:[],searchInput:"",search:!1,topOne:{},topTwo:{},topThree:{}}},computed:{month(){return this.$store.state.order.month},year(){return this.$store.state.order.year},orderListCount(){return this.orderList.length},todayMonth(){return(new Date).getMonth()},monthText(){let t;return t=this.month==(new Date).getMonth()?"이번달":this.month==(new Date).getMonth()-1?"지난달":this.month+1+"월",t}},watch:{orderList(){this.orderListCount>0?this.title.css="highlighter highlighter__yellow":this.title.css="highlighter highlighter__grey"}},methods:{fetchTopSales(){let t=this.orderList.map(t=>t.itemId),e={};t.forEach(t=>{e[t]=(e[t]||0)+1});let s=Object.entries(e).sort((t,e)=>e[1]-t[1]),i=[...new Set(s.map(t=>t[1]))];console.log(i[0]),this.topOne={items:s.filter(t=>i[0]==t[1]).map(t=>t[0]),count:i[0]},this.topTwo={items:s.filter(t=>i[1]==t[1]).map(t=>t[0]),count:i[1]},this.topThree={items:s.filter(t=>i[2]==t[1]).map(t=>t[0]),count:i[2]}},fetchData(){this.fetchOrderList(),this.fetchTitle()},fetchOrderList(){this.orderList=this.originOrderList.filter(t=>new Date(t.orderDate).getMonth()==this.month&&new Date(t.orderDate).getFullYear()==this.year)},fetchTitle(){this.title.text=this.orderListCount>0?this.monthText+" 매출은 999,000원입니다! 💰":this.monthText+" 매출은 0원입니다. 🥲 "}},filters:{itemName(t){switch("string"==typeof t&&(t=Number(t)),t){case 5033569:return"2023 심플 플래너";case 5033568:return"2023 모던 플래너";case 5033567:return"2023 타임라인 플래너";case 5033566:return"2023 먼슬리&데일리 플래너";case 5033565:return"31DAYS 플래너";case 5033562:return"3년 5년 다이어리";case 5033564:return"세로형 인덱스 노트";case 5033563:return"가로형 인덱스 노트";case 5033560:return"독서노트";case 5033558:return"드라마노트";case 5033557:return"먼슬리 트래커북";case 5033561:return"180 베이직 노트";case 5033559:return"180 체커보드 노트";case 5068583:return"레시피북";default:return""}}}},c=h,l=s("2877"),u=Object(l["a"])(c,i,n,!1,null,"8994d64a",null);e["default"]=u.exports},bd23:function(t,e,s){},d76c:function(t,e,s){"use strict";var i=function(){var t=this;t._self._c;return t._m(0)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading"},[e("div",{staticClass:"loading__inner"},[e("div",{staticClass:"loading__content"},[e("span",{staticClass:"spinner"})])])])}],r={},a=r,o=(s("e294"),s("2877")),h=Object(o["a"])(a,i,n,!1,null,"2af1ac9b",null);e["a"]=h.exports},e07b:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("h1",{staticClass:"sales-title"},[e("button",{on:{click:t.beforeMonth}},[e("i",{staticClass:"uil uil-angle-left-b"})]),e("span",[t._v(t._s(t.nowDate))]),[t.month==t.todayMonth?e("button",[e("i",{staticClass:"uil uil-angle-right-b disabled"})]):e("button",{on:{click:t.afterMonth}},[e("i",{staticClass:"uil uil-angle-right-b"})])]],2)},n=[],r={computed:{month(){return this.$store.state.order.month},year(){return this.$store.state.order.year},todayMonth(){return(new Date).getMonth()},nowDate(){return`${this.year}.${this.month+1}`}},methods:{beforeMonth(){0==this.month?(this.$store.commit("prevYear"),this.$store.commit("setMonth",11)):this.$store.commit("prevMonth"),this.$emit("fetch-data")},afterMonth(){11==this.month?(this.$store.commit("nextYear"),this.$store.commit("setMonth",0)):this.$store.commit("nextMonth"),this.$emit("fetch-data")}}},a=r,o=s("2877"),h=Object(o["a"])(a,i,n,!1,null,null,null);e["a"]=h.exports},e294:function(t,e,s){"use strict";s("bd23")}}]);
//# sourceMappingURL=chunk-7194e8fc.cdc4e446.js.map