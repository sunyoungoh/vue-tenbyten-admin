(function(e){function t(t){for(var n,a,s=t[0],u=t[1],d=t[2],c=0,l=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);p&&p(t);while(l.length)l.shift()();return i.push.apply(i,d||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var s=r[a];0!==o[s]&&(n=!1)}n&&(i.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={app:0},o={app:0},i=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-2705f185":"37ae820f","chunk-3604ca50":"49aa6c30","chunk-386f45bd":"d3a7a8c4","chunk-8715c116":"46c39058","chunk-b889b080":"79451ec0"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={"chunk-2705f185":1,"chunk-3604ca50":1,"chunk-386f45bd":1,"chunk-8715c116":1,"chunk-b889b080":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-2705f185":"ed4e3bc1","chunk-3604ca50":"ed4e3bc1","chunk-386f45bd":"ed4e3bc1","chunk-8715c116":"ed4e3bc1","chunk-b889b080":"ed4e3bc1"}[e]+".css",o=u.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var d=i[s],c=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===n||c===o))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){d=l[s],c=d.getAttribute("data-href");if(c===n||c===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[e],p.parentNode.removeChild(p),r(i)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=i);var d,c=document.createElement("script");c.charset="utf-8",c.timeout=120,u.nc&&c.setAttribute("nonce",u.nc),c.src=s(e);var l=new Error;d=function(t){c.onerror=c.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,r[1](l)}o[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:c})}),12e4);c.onerror=c.onload=d,document.head.appendChild(c)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/vue-tenbyten-admin/",u.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var p=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2a1b":function(e,t,r){"use strict";r("abc7")},4360:function(e,t,r){"use strict";var n=r("2b0e"),a=r("2f62"),o=r("0e44"),i=r("f8b7");const s={state:{apiKey:"",brandId:"",brandNameKor:"",isLogin:!1},mutations:{setUserData(e,t){e.apiKey=t.apiKey,e.brandId=t.brandId,e.brandNameKor=t.brandNameKor},clearUserData(e){e.apiKey="",e.brandId="",e.brandNameKor=""},setIsLogin(e,t){e.isLogin=t}},actions:{async login({commit:e},t){e("clearUserData"),e("clearOrderList",null,{root:!0});let{data:r}=await Object(i["b"])(t.apiKey);return t.brandId==r.brandid?(e("setUserData",{apiKey:t.apiKey,brandId:t.brandId,brandNameKor:r.BrandNameKor}),e("setIsLogin",!0),"success"):"fail"},logout({commit:e}){e("setIsLogin",!1),e("clearUserData"),e("clearOrderList",null,{root:!0})}}};var u=s;r("14d9"),r("13d5");const d={state:{year:(new Date).getFullYear(),month:(new Date).getMonth(),orderList:[],loading:!1},getters:{orderListCount(e){return e.orderList.length},monthlyOrderList(e){return e.orderList.filter(t=>new Date(t.orderDate).getMonth()==e.month&&new Date(t.orderDate).getFullYear()==e.year)},monthlySales(e){let t=[];for(let r=5;r>=0;r--){let n;if(n=e.orderList.filter(t=>new Date(t.orderDate).getMonth()==e.month-r&&new Date(t.orderDate).getFullYear()==e.year),n.length>0){let e=new Date(n[0].orderDate).getFullYear(),r=new Date(n[0].orderDate).getMonth()+1,a=`${e.toString().substring(2)}/${r}`;t.push({date:a,amount:n.map(e=>e.price).reduce((e,t)=>e+t)})}else{let e=new Date,n=new Date(e.setMonth(e.getMonth()-r)),a=n.getFullYear(),o=n.getMonth()+1;n=`${a.toString().substring(2)}/${o}`,t.push({date:n,amount:""})}}return t},monthText(e){let t;return t=e.month==(new Date).getMonth()?"이번달":e.month==(new Date).getMonth()-1?"지난달":e.month+1+"월",t}},mutations:{searchOrderList(e,t){return e.monthlyOrderList.filter(e=>e.ordererName.includes(t))},initDate(e){e.month=(new Date).getMonth(),e.year=(new Date).getFullYear()},setYear(e,t){e.year=t},prevYear(e){e.year-=1},nextYear(e){e.year+=1},setMonth(e,t){e.month=t},prevMonth(e){e.month-=1},nextMonth(e){e.month+=1},setOrderList(e,t){e.orderList=t},setOrderListTest(e,t){e.orderList=t},clearOrderList(e){e.orderList=[]},setLoading(e,t){e.loading=t}},actions:{async fetchOrderList({commit:e},t){let r;if(e("clearOrderList"),e("setLoading",!0),"order"==t||"ready"==t){const{data:e}="order"==t?await Object(i["d"])():await Object(i["e"])();r=e.outPutValue.map(e=>{let t=e.details[0].itemOptionName;if(""!==t){let e=t.indexOf("꼭");-1!==e&&(t=t.substring(0,e-1))}return{orderSerial:e.OrderSerial,detailIdx:e.details[0].DetailIdx,orderDate:new Date(e.orderDate),userId:e.UserId,ordererName:e.ordererName,ordererCellPhone:e.ordererCellPhone,ordererEmail:e.ordererEmail,itemId:e.details[0].itemId,itemOption:t,itemRequireMemo:e.details[0].RequireMemo.trim(),price:e.details[0].NotCouponPrice}})}if("home"==t||"delivery"==t||"sales"==t){const{data:e}=await Object(i["c"])();r=e}e("setOrderList",r),e("setLoading",!1)}}};var c=d;n["a"].use(a["a"]);t["a"]=new a["a"].Store({plugins:[Object(o["a"])({paths:["user"]})],strict:!1,modules:{user:u,order:c}})},"4c03":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.isLogin?t("AppHeader"):e._e(),e.isLogin?t("AppNav"):e._e(),t("main",{attrs:{id:"main"}},[e.isLogin?e._e():t("LoginForm"),t("router-view")],1)],1)},o=[],i=function(){var e=this,t=e._self._c;return t("header",[t("div",{staticClass:"logo"},[t("router-link",{attrs:{to:"/"}},[t("img",{attrs:{src:r("cf05"),alt:"logo"}})])],1),t("div",{staticClass:"logout",on:{click:e.logout}},[t("i",{staticClass:"uil uil-sign-out-alt"})])])},s=[],u=(r("14d9"),{computed:{isLogin(){return this.$store.state.user.isLogin}},methods:{logout(){this.$store.dispatch("logout"),this.$router.push("/")}}}),d=u,c=r("2877"),l=Object(c["a"])(d,i,s,!1,null,null,null),p=l.exports,h=function(){var e=this,t=e._self._c;return t("nav",[t("ul",{staticClass:"nav-list"},[t("li",[t("router-link",{attrs:{to:"/"}},[e._v("홈")])],1),t("li",[t("router-link",{attrs:{to:"/order"}},[e._v("신규주문")])],1),t("li",[t("router-link",{attrs:{to:"/ready"}},[e._v("배송준비 ")])],1),t("li",{on:{click:function(t){return e.$store.commit("initDate")}}},[t("router-link",{attrs:{to:"/delivery"}},[e._v("발송내역")])],1),t("li",{on:{click:function(t){return e.$store.commit("initDate")}}},[t("router-link",{attrs:{to:"/sales"}},[e._v("판매내역")])],1)])])},m=[],g={},f=g,b=Object(c["a"])(f,h,m,!1,null,null,null),y=b.exports,v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("img",{staticClass:"logo",attrs:{src:r("cf05"),alt:"logo"}}),t("div",{staticClass:"login-form"},[t("div",{staticClass:"input-item"},[t("div",{staticClass:"input-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.brandId,expression:"brandId"}],attrs:{id:"brandId",placeholder:"brandId",type:"text",autocomplete:"off"},domProps:{value:e.brandId},on:{click:function(t){return e.resetError(t)},input:function(t){t.target.composing||(e.brandId=t.target.value)}}})]),t("div",[t("p",{staticClass:"error"},[e._v(e._s(e.brandIdError))])])]),t("div",{staticClass:"input-item"},[t("div",{staticClass:"input-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.apiKey,expression:"apiKey"}],attrs:{id:"apiKey",placeholder:"apiKey",type:"password",clearable:""},domProps:{value:e.apiKey},on:{click:function(t){return e.resetError(t)},input:function(t){t.target.composing||(e.apiKey=t.target.value)}}})]),t("div",[t("p",{staticClass:"error"},[e._v(e._s(e.apiKeyError))])])]),t("button",{staticClass:"btn-login",attrs:{disabled:e.loading},on:{click:e.login}},[e.loading?t("span",{staticClass:"spinner"}):t("span",[e._v("로그인")])])]),t("p",{staticClass:"error"},[e._v(e._s(e.loginError))])])},w=[],L={data(){return{brandId:this.$store.state.user.brandId,apiKey:this.$store.state.user.apiKey,apiKeyError:"",brandIdError:"",loginError:"",loading:!1}},computed:{isLogin(){return this.$store.state.user.isLogin},statusCode(){return this.$store.state.order.resultStatusCode},brandNameKor(){return this.$store.state.user.brandNameKor}},methods:{resetError(e){"apiKey"==e.currentTarget.id&&(this.apiKeyError=""),"brandId"==e.currentTarget.id&&(this.brandIdError="")},inputEmptyCheck(){this.brandId?this.brandIdError="":this.brandIdError="brandId를 입력해주세요.",this.apiKey?this.apiKeyError="":this.apiKeyError="apiKey를 입력해주세요."},async login(){if(this.inputEmptyCheck(),""!==this.apiKey&&""!==this.brandId){this.loading=!0;const e=await this.$store.dispatch("login",{brandId:this.brandId,apiKey:this.apiKey});"success"==e?await this.$store.dispatch("fetchOrderList","home"):this.loginError="로그인을 실패하였습니다."}this.loading=!1},logout(){this.brandId="",this.apiKey="",this.$store.dispatch("logout"),this.$router.push("/")}}},k=L,D=(r("65a5"),Object(c["a"])(k,v,w,!1,null,null,null)),I=D.exports,O={components:{AppHeader:p,AppNav:y,LoginForm:I},computed:{isLogin(){return this.$store.state.user.isLogin}}},K=O,C=(r("2a1b"),Object(c["a"])(K,a,o,!1,null,null,null)),_=C.exports,E=r("8c4f");n["a"].use(E["a"]);const N=[{path:"/",name:"HomePage",component:()=>r.e("chunk-8715c116").then(r.bind(null,"f4a9"))},{path:"/order",name:"OrderPage",component:()=>r.e("chunk-386f45bd").then(r.bind(null,"164b"))},{path:"/ready",name:"ReadyPage",component:()=>r.e("chunk-b889b080").then(r.bind(null,"02c1"))},{path:"/delivery",name:"DeliveryPage",component:()=>r.e("chunk-3604ca50").then(r.bind(null,"4ee4"))},{path:"/sales",name:"SalesPage",component:()=>r.e("chunk-2705f185").then(r.bind(null,"6895"))}],P=new E["a"]({mode:"history",base:"/vue-tenbyten-admin/",routes:N});var j=P,x=r("4360");n["a"].config.productionTip=!1,n["a"].filter("emptyValue",e=>e||"X"),n["a"].filter("timeFormat",e=>{const t=new Date(e);return t.toLocaleString("ja-JP",{year:"2-digit",month:"2-digit",day:"2-digit",hourCycle:"h23",hour:"2-digit",minute:"2-digit"})}),n["a"].filter("itemName",e=>{switch("string"==typeof e&&(e=Number(e)),e){case 5033569:return"2023 심플 플래너";case 5033568:return"2023 모던 플래너";case 5033567:return"2023 타임라인 플래너";case 5033566:return"2023 먼슬리&데일리 플래너";case 5033565:return"31DAYS 플래너";case 5033562:return"3년 5년 다이어리";case 5033564:return"세로형 인덱스 노트";case 5033563:return"가로형 인덱스 노트";case 5033560:return"독서노트";case 5033558:return"드라마노트";case 5033557:return"먼슬리 트래커북";case 5033561:return"180 베이직 노트";case 5033559:return"180 체커보드 노트";case 5068583:return"레시피북";default:return""}}),new n["a"]({router:j,store:x["a"],render:e=>e(_)}).$mount("#app")},"65a5":function(e,t,r){"use strict";r("4c03")},abc7:function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.9e5c8e1b.png"},f8b7:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return m})),r.d(t,"c",(function(){return g})),r.d(t,"f",(function(){return b})),r.d(t,"a",(function(){return f}));var n=r("cee4"),a=r("4360");function o(e){return e.interceptors.request.use((function(e){return e.headers.Authorization="bearer "+a["a"].state.user.apiKey,e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),e}function i(){return n["a"].create({baseURL:"https://send-mail-server-sunyoungoh.koyeb.app"})}function s(){const e=n["a"].create({baseURL:"https://send-mail-server-sunyoungoh.koyeb.app"});return o(e)}const u=i(),d=s(),c=()=>{let e=new Date;e.setDate(e.getDate()-3);let t=e.getFullYear(),r=("0"+(1+e.getMonth())).slice(-2),n=("0"+e.getDate()).slice(-2);return t+"-"+r+"-"+n},l=()=>{let e=new Date,t=e.getFullYear(),r=("0"+(1+e.getMonth())).slice(-2),n=("0"+e.getDate()).slice(-2);return t+"-"+r+"-"+n},p=e=>u.get("/tenbyten/brandinfo",{headers:{Authorization:"bearer "+e}}),h=()=>d.get("/tenbyten/orders",{params:{brandId:a["a"].state.user.brandId,startdate:c(),enddate:l()}}),m=()=>d.get("/tenbyten/orders/ready",{params:{brandId:a["a"].state.user.brandId,startdate:c(),enddate:l()}}),g=()=>d.get("/tenbyten/orders/orderconfirm"),f=e=>d.post("/tenbyten/orders/orderconfirm",e),b=e=>u.post("/mail",e)}});
//# sourceMappingURL=app.274d8fbc.js.map