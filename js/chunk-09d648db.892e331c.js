(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09d648db"],{"020b":function(t,e,r){"use strict";var i=function(){var t=this,e=t._self._c;return e("tr",t._l(t.titles,(function(r,i){return e("th",{key:i,class:[t.clickField==r.key?"filter-tab":"",r.key]},[t._v(" "+t._s(r.value)+" "),"itemOption"!==r.key?e("div",{staticClass:"btn-angle",on:{click:function(e){return t.$emit("sort-list",r.key)}}},["desc"==t.orderBy?e("i",{staticClass:"uil uil-angle-down"}):e("i",{staticClass:"uil uil-angle-up"})]):t._e()])})),0)},s=[],n={props:{titles:{type:Array},orderBy:{type:String},clickField:{type:String}}},o=n,l=r("2877"),c=Object(l["a"])(o,i,s,!1,null,null,null);e["a"]=c.exports},3965:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));const i=t=>{switch("string"==typeof t&&(t=Number(t)),t){case 5033569:return"2023 심플 플래너";case 5033568:return"2023 모던 플래너";case 5033567:return"2023 타임라인 플래너";case 5033566:return"2023 먼슬리&데일리 플래너";case 5033565:return"31DAYS 플래너";case 5033562:return"3년 5년 다이어리";case 5033564:return"세로형 인덱스 노트";case 5033563:return"가로형 인덱스 노트";case 5033560:return"독서노트";case 5033558:return"드라마노트";case 5033557:return"먼슬리 트래커북";case 5033561:return"180 베이직 노트";case 5033559:return"180 체커보드 노트";case 5068583:return"레시피북";default:return""}}},6895:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"container"},[t.loading?e("LoadingSpinner"):[e("TitleMonth"),e("div",{staticClass:"sales-list-container"},[e("div",[e("h1",{class:t.highlighter},[t._v(t._s(t.title))])]),t.orderListCount>0?[e("TopSales"),e("SalesList")]:t._e()],2)]],2)},s=[],n=(r("13d5"),r("e07b")),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"top3-sales"},t._l(t.topSales,(function(r,i){return e("div",{key:i,staticClass:"sales-item",class:"topOne"==i?"top1":""},[e("div",{staticClass:"pop-num"},[t._v(t._s(r.index))]),t._l(r.products,(function(r,i){return e("p",{key:i,staticClass:"item-name"},[t._v(" "+t._s(t._f("itemName")(r))+" ")])})),e("div",{staticClass:"sales-count"},[t._v(t._s(r.count)+"개")])],2)})),0)},l=[],c={computed:{orderList(){return this.$store.getters.monthlyOrderList},topSales(){let t=this.orderList.map(t=>t.itemId),e={};t.forEach(t=>{e[t]=(e[t]||0)+1});let r=Object.entries(e).sort((t,e)=>e[1]-t[1]),i=[...new Set(r.map(t=>t[1]))],s={topOne:{index:1,products:r.filter(t=>i[0]==t[1]).map(t=>t[0]),count:i[0]},topTwo:{index:2,products:r.filter(t=>i[1]==t[1]).map(t=>t[0]),count:i[1]},topThree:{index:3,products:r.filter(t=>i[2]==t[1]).map(t=>t[0]),count:i[2]}};return s}}},a=c,u=r("2877"),h=Object(u["a"])(a,o,l,!1,null,null,null),d=h.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container sales"},[e("table",[e("thead",[e("TableTitle",{attrs:{titles:t.tableTitles,"click-field":t.clickField,"order-by":t.orderBy},on:{"sort-list":t.sortList}})],1),e("tbody",t._l(t.orderListByCount,(function(r,i){return e("SalesItem",{key:i,attrs:{item:r,clickField:t.clickField,titles:t.tableTitles}})})),1)])])},p=[],f=r("3965"),y=r("020b"),_=function(){var t=this,e=t._self._c;return e("tr",t._l(t.titles,(function(r,i){return e("td",{key:i,class:t.clickField==r.key?"filter-tab":""},[t._v(" "+t._s(t._f("emptyValue")(t.item[r.key]))+" ")])})),0)},b=[],g={props:{titles:{type:Array},item:{type:Object},clickField:{type:String}}},v=g,k=Object(u["a"])(v,_,b,!1,null,null,null),L=k.exports,C={components:{TableTitle:y["a"],SalesItem:L},data(){return{tableTitles:[{key:"item",value:"상품명(옵션)"},{key:"count",value:"판매수"}],orderBy:"desc",clickField:""}},watch:{month(){this.clickField=""},search(t){this.clickField=t?"ordererName":""}},computed:{orderList(){return this.$store.getters.monthlyOrderList},month(){return this.$store.state.order.month},orderListByCount:{get(){let t=this.orderList,e={};t.forEach(t=>{let r=t.itemOption?`${Object(f["a"])(t.itemId)} (${t.itemOption})`:""+Object(f["a"])(t.itemId);e[r]=(e[r]||0)+1});let r=Object.entries(e).sort((t,e)=>e[1]-t[1]),i=r.map(t=>({item:t[0],count:t[1]}));return i.sort((t,e)=>t.count>e.count?-1:t.count<e.count?1:t.item<e.item?-1:t.item>e.item?1:void 0),i},set(){}}},methods:{fetchList(){let t=this.orderList,e={};t.forEach(t=>{let r=t.itemOption?`${Object(f["a"])(t.itemId)} (${t.itemOption})`:""+Object(f["a"])(t.itemId);e[r]=(e[r]||0)+1});let r=Object.entries(e).sort((t,e)=>e[1]-t[1]),i=r.map(t=>({item:t[0],count:t[1]}));i.sort((t,e)=>t.count>e.count?-1:t.count<e.count?1:t.item<e.item?-1:t.item>e.item?1:void 0)},sortList(t){this.clickField=t,this.orderBy="desc"==this.orderBy?"asc":"desc","item"==t&&(this.orderListByCount=this.orderListByCount.sort((t,e)=>{if("asc"==this.orderBy){if(t.item<e.item)return-1;if(t.item>e.item)return 1}else{if(t.item<e.item)return 1;if(t.item>e.item)return-1}return t.count>e.count?-1:t.count<e.count?1:void 0})),"count"==t&&(this.orderListByCount=this.orderListByCount.sort((t,e)=>{if("asc"==this.orderBy){if(t.count>e.count)return 1;if(t.count<e.count)return-1}else{if(t.count>e.count)return-1;if(t.count<e.count)return 1}return t.item<e.item?-1:t.item>e.item?1:void 0}))}}},$=C,O=Object(u["a"])($,m,p,!1,null,null,null),T=O.exports,w=r("d76c");const x=t=>String(t).replace(/\B(?=(\d{3})+(?!\d))/g,",");var S={components:{TitleMonth:n["a"],TopSales:d,SalesList:T,LoadingSpinner:w["a"]},async mounted(){await this.$store.dispatch("fetchOrderList")},computed:{loading(){return this.$store.state.order.loading},year(){return this.$store.state.order.year},month(){return this.$store.state.order.month},monthText(){return this.$store.getters.monthText},orderList(){return this.$store.getters.monthlyOrderList},orderListCount(){return this.orderList.length},orderAmount(){let t=this.orderList.map(t=>t.price).reduce((t,e)=>t+e);return t},highlighter(){return this.orderList.length>0?"highlighter highlighter__yellow":"highlighter highlighter__grey"},title(){return this.orderListCount>0?`${this.monthText} 매출은 ${x(this.orderAmount)}원입니다! 💰`:this.monthText+" 매출은 0원입니다. 🥲 "}}},j=S,B=Object(u["a"])(j,i,s,!1,null,"4074fe3c",null);e["default"]=B.exports},bd23:function(t,e,r){},d76c:function(t,e,r){"use strict";var i=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading"},[e("div",{staticClass:"loading__inner"},[e("div",{staticClass:"loading__content"},[e("span",{staticClass:"spinner"})])])])}],n={},o=n,l=(r("e294"),r("2877")),c=Object(l["a"])(o,i,s,!1,null,"2af1ac9b",null);e["a"]=c.exports},e07b:function(t,e,r){"use strict";var i=function(){var t=this,e=t._self._c;return e("h1",{staticClass:"sales-title"},[e("button",{on:{click:t.beforeMonth}},[e("i",{staticClass:"uil uil-angle-left-b"})]),e("span",[t._v(t._s(t.nowDate))]),[t.isTodayMonth?e("button",[e("i",{staticClass:"uil uil-angle-right-b disabled"})]):e("button",{on:{click:t.afterMonth}},[e("i",{staticClass:"uil uil-angle-right-b"})])]],2)},s=[],n={computed:{month(){return this.$store.state.order.month},year(){return this.$store.state.order.year},isTodayMonth(){return this.month==(new Date).getMonth()&&this.year==(new Date).getFullYear()},nowDate(){return`${this.year}.${this.month+1}`}},methods:{beforeMonth(){0==this.month?(this.$store.commit("prevYear"),this.$store.commit("setMonth",11)):this.$store.commit("prevMonth"),this.$emit("fetch-data")},afterMonth(){11==this.month?(this.$store.commit("nextYear"),this.$store.commit("setMonth",0)):this.$store.commit("nextMonth"),this.$emit("fetch-data")}}},o=n,l=r("2877"),c=Object(l["a"])(o,i,s,!1,null,null,null);e["a"]=c.exports},e294:function(t,e,r){"use strict";r("bd23")}}]);
//# sourceMappingURL=chunk-09d648db.892e331c.js.map