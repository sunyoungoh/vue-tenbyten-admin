(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b10a699c"],{b059:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-list-container"},[t.titleInfo?e("h1",{class:t.titleInfo.css},[t._v(" "+t._s(t.titleInfo.msg)+" ")]):t._e(),e("div",{staticClass:"table-container",attrs:{id:"no-more-tables"}},[0!==t.orderListCount?e("table",[e("thead",[e("tr",[e("th",[t._v("주문일")]),e("th",[t._v("아이디")]),e("th",[t._v("이름")]),e("th",[t._v("휴대폰")]),e("th",[t._v("이메일")]),e("th",{staticClass:"item-name"},[t._v("상품명")]),e("th",{staticClass:"item-option"},[t._v("옵션")]),e("th",[t._v("주문메모")]),"ready"==t.clickedBtn?e("th",[t._v("발송상태")]):t._e()])]),e("tbody",t._l(t.orderList,(function(t,s){return e("OrderItem",{key:s,attrs:{item:t}})})),1)]):t._e()])])},a=[],r=function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"order-date",attrs:{"data-title":"주문일"}},[t._v(t._s(t.orderDate))]),e("td",{attrs:{"data-title":"아이디"}},[t._v(t._s(t._f("emptyValue")(t.item["UserId"])))]),e("td",{attrs:{"data-title":"이름"}},[t._v(t._s(t.item.ordererName))]),e("td",{attrs:{"data-title":"휴대폰"}},[t._v(t._s(t.item.ordererCellPhone))]),e("td",{attrs:{"data-title":"이메일"}},[t._v(t._s(t.item.ordererEmail))]),e("td",{staticClass:"item-name",attrs:{"data-title":"상품명"}},[t._v(" "+t._s(t._f("itemName")(this.item["details"][0]["itemId"]))+" ")]),e("td",{staticClass:"item-option",attrs:{"data-title":"옵션"}},[t._v(t._s(t.itemOptionName))]),e("td",{attrs:{"data-title":"주문메모"}},[t._v(t._s(t._f("emptyValue")(t.itemRequireMemo)))]),"ready"==this.$store.state.order.clickedBtn?e("td",{staticClass:"btns_post",attrs:{"data-title":"발송상태"}},[["none"==t.postResult&&0==t.loading?e("button",{staticClass:"btn_post-default",on:{click:t.sendMailAndPostOrder}},[t._v(" 발송하기 ")]):t._e(),1==t.loading?e("button",{staticClass:"btn_post-loading"},[t._v(" 발송 중.. ")]):["complete"==t.postResult?e("button",{staticClass:"btn_post-complete"},[t._v(" 발송완료 ")]):"fail"==t.postResult?e("button",{staticClass:"btn_post-fail"},[t._v(" 발송실패 ")]):t._e()]]],2):t._e()])},n=[],o=s("f8b7"),l={props:{item:{type:Object}},data(){return{postResult:"none",loading:!1}},computed:{validateEmail(){const t=/.+@.+\..+/;return t.test(this.item["details"][0]["RequireMemo"])},orderDate(){let t=this.item["orderDate"].split("-");return t[0].substr(2)+"/"+t[1]+"/"+t[2]},itemOptionName(){let t=this.item["details"][0]["itemOptionName"];if(""!==t){let e=this.item["details"][0]["itemOptionName"].indexOf("꼭");-1!==e&&(t=this.item["details"][0]["itemOptionName"].substring(0,e-1))}return t},itemRequireMemo(){return this.item["details"][0]["RequireMemo"].trim()},mailData(){let t=this.validateEmail?this.item["details"][0]["RequireMemo"]:this.item.ordererEmail;return{store:"텐바이텐/영로그",items:[{itemId:this.item["details"][0]["itemId"],itemOptionName:this.itemOptionName}],toEmail:t}}},methods:{async postOrder(){const{data:t}=await Object(o["a"])(this.item["OrderSerial"],this.item["details"][0]["DetailIdx"]);"SUCCESS"==t.code?(this.loading=!1,this.postResult="complete"):this.postResult="fail"},async sendMailAndPostOrder(){var t;let e={};this.loading=!0;try{e=await Object(o["e"])(this.mailData),console.log("메일 전송 완료")}catch(s){console.log(s),this.loading=!1,400==s.response.status&&(this.postResult="fail")}200==(null===(t=e)||void 0===t?void 0:t.status)&&this.postOrder()}},filters:{emptyValue(t){return t||"X"},itemName(t){switch(t){case 5033569:return"2023 심플 플래너";case 5033568:return"2023 모던 플래너";case 5033567:return"2023 타임라인 플래너";case 5033566:return"2023 먼슬리&데일리 플래너";case 5033565:return"31DAYS 플래너";case 5033562:return"3년 5년 다이어리";case 5033564:return"세로형 인덱스 노트";case 5033563:return"가로형 인덱스 노트";case 5033560:return"독서노트";case 5033558:return"드라마노트";case 5033557:return"먼슬리 트래커북";case 5033561:return"180 베이직 노트";case 5033559:return"180 체커보드 노트";case 5068583:return"레시피북";default:return""}}}},d=l,c=s("2877"),u=Object(c["a"])(d,r,n,!1,null,null,null),m=u.exports,_={components:{OrderItem:m},computed:{orderList(){return this.$store.state.order.orderList},orderListCount(){return this.$store.getters.orderListCount},clickedBtn(){return this.$store.state.order.clickedBtn},titleInfo(){return this.$store.state.order.titleInfo}}},h=_,p=Object(c["a"])(h,i,a,!1,null,null,null);e["a"]=p.exports},bd23:function(t,e,s){},cf2a:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("section",[t.loading?e("LoadingSpinner"):e("OrderList")],1)},a=[],r=s("b059"),n=s("d76c"),o={components:{OrderList:r["a"],LoadingSpinner:n["a"]},async mounted(){this.$store.commit("setClickedBtn","new-orders"),await this.$store.dispatch("getOrdersData")},computed:{loading(){return this.$store.state.order.loading}}},l=o,d=(s("e2ef"),s("2877")),c=Object(d["a"])(l,i,a,!1,null,"45283db6",null);e["default"]=c.exports},d76c:function(t,e,s){"use strict";var i=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading"},[e("div",{staticClass:"loading__inner"},[e("div",{staticClass:"loading__content"},[e("span",{staticClass:"spinner"})])])])}],r={},n=r,o=(s("e294"),s("2877")),l=Object(o["a"])(n,i,a,!1,null,"2af1ac9b",null);e["a"]=l.exports},e294:function(t,e,s){"use strict";s("bd23")},e2ef:function(t,e,s){"use strict";s("e47a")},e47a:function(t,e,s){}}]);
//# sourceMappingURL=chunk-b10a699c.967b466e.js.map